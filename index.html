<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Korea Visual Diary ‚Äî ÎÇòÏùò ÌïúÍµ≠ Ï∂îÏñµ ÏßÄÎèÑ</title>
  <meta name="description" content="Îî∞ÎúªÌïú Í∞êÏÑ±Ïùò Ïù∏ÌÑ∞ÎûôÌã∞Î∏å ÏãúÍ∞Å ÏùºÍ∏∞ ÌîÑÎ†àÏ††ÌÖåÏù¥ÏÖò" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bgTint: rgba(255,255,255,.58);
      --ink:#463c36;
      --muted:#7a6e65;
      --beige:#efe6dd;
      --card:#ffffff;
      --dot:#d2c7bd;
      --dot-active:#7c6a5e;
      --shadow:0 18px 40px rgba(70,60,54,.18);
      --radius:26px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Noto Sans KR","Apple SD Gothic Neo","Malgun Gothic",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--ink);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      overflow:hidden;
      background: url("assets images/wall.jpg") center/cover fixed no-repeat; /* –æ–±–æ–∏ –Ω–∞ –≤—Å–µ—Ö —Å–ª–∞–π–¥–∞—Ö */
    }
    body::before{
      content:""; position:fixed; inset:0; pointer-events:none; z-index:0;
      background: none;
    }
    /* Subtle vignette + fairy dust */
    body::after{
      content:""; position:fixed; inset:0; pointer-events:none; z-index:0;
      background:
        /* sparkling dust layers (very subtle) */
        radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.10) 0, rgba(255,255,255,0) 60%) repeat,
        radial-gradient(1.5px 1.5px at 70% 60%, rgba(255,255,255,.08) 0, rgba(255,255,255,0) 60%) repeat,
        radial-gradient(1.8px 1.8px at 40% 80%, rgba(255,255,255,.06) 0, rgba(255,255,255,0) 60%) repeat,
        radial-gradient(1200px 700px at 50% 60%, rgba(0,0,0,0) 60%, rgba(0,0,0,.10) 100%);
      background-size: 220px 220px, 260px 260px, 300px 300px, auto;
      animation: dustDrift 38s linear infinite;
    }
    @keyframes dustDrift{
      0%   { background-position: 0 0, 0 0, 0 0, center; }
      50%  { background-position: 60px 40px, -40px 30px, 30px -50px, center; }
      100% { background-position: 0 0, 0 0, 0 0, center; }
    }

    /* Sparkles */
    #fx{ position:fixed; inset:0; z-index:2; pointer-events:none; }
    .spark{
      position:fixed; width:7px; height:7px; border-radius:50%;
      background: radial-gradient(circle, rgba(255,255,255,.95) 0%, rgba(255,255,255,.6) 40%, rgba(255,255,255,0) 70%);
      filter: drop-shadow(0 0 6px rgba(255,255,255,.45)) drop-shadow(0 0 12px rgba(255,230,160,.25));
      animation: sparkFade .8s ease-out forwards;
    }
    @keyframes sparkFade{
      0%{ transform: translate(var(--dx,0), var(--dy,0)) scale(.9) rotate(0deg); opacity:1 }
      100%{ transform: translate(calc(var(--dx,0) * 4), calc(var(--dy,0) * 4)) scale(.2) rotate(120deg); opacity:0 }
    }
    @media (prefers-reduced-motion: reduce){ .spark{ animation: none; opacity:0; } }

    /* Background decor */
    #bg-decor{ position:fixed; inset:0; z-index:1; pointer-events:none; }
    .fairy, .butterfly, .leaf{
      position:absolute; width:38px; height:38px; opacity:.8; filter: drop-shadow(0 8px 16px rgba(0,0,0,.18));
      background-repeat:no-repeat; background-size:contain; background-position:center;
      animation-timing-function:ease-in-out; animation-iteration-count: infinite;
      transition: transform .6s ease, filter .6s ease, opacity .4s ease;
    }
    /* Fairies (brown-gold-green, autumn) */
    .fairy{
      width:60px; height:60px; opacity:.95;
      /* Elven anime-inspired fairy: white hair, smile, elegant wings */
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='70' height='70' viewBox='0 0 70 70'><defs><linearGradient id='w' x1='0' y1='0' x2='1' y2='1'><stop offset='0' stop-color='%23caa25a'/><stop offset='1' stop-color='%2383a163'/></linearGradient></defs><path d='M35 16c12 5 20 13 23 23-12-5-20-13-23-23z' fill='url(%23w)' fill-opacity='.9'/><path d='M35 54c12-5 20-13 23-23-12 5-20 13-23 23z' fill='url(%23w)' fill-opacity='.9'/><circle cx='35' cy='30' r='5.5' fill='%23f1e2cb'/><path d='M29 28c3-6 9-6 12 0 2 3 2 6-1 7-2-3-4-4-5-4s-3 1-5 4c-3-1-3-4-1-7z' fill='%23ffffff' fill-opacity='.95'/><path d='M28 30l-4-2 4-1z' fill='%23f1e2cb'/><path d='M42 30l4-2-4-1z' fill='%23f1e2cb'/><circle cx='33.3' cy='30.4' r='0.7' fill='%233c2f2a'/><circle cx='36.7' cy='30.4' r='0.7' fill='%233c2f2a'/><path d='M33 32.4c1.3 1 2.7 1 4 0' stroke='%233c2f2a' stroke-width='0.7' fill='none' stroke-linecap='round'/><path d='M31 35c1.3 1.8 3.7 1.8 5 0 3 3 4 7 4 10-5 2-8 2-13 0 0-3 1-7 4-10z' fill='%23a27f4b'/></svg>");
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.22));
    }
    .fairy.scared{ animation: none !important; transform: translate(var(--flyX,0), var(--flyY,0)) scale(.96); filter: drop-shadow(0 14px 26px rgba(0,0,0,.22)) drop-shadow(0 0 28px rgba(243,229,181,.35)); }
    .fairy.f1{ left:8%; top:18%; animation: floatY 6.5s alternate infinite, driftX 18s linear infinite; }
    .fairy.f2{ right:10%; top:62%; animation: floatY 7.2s alternate infinite, driftX 22s linear infinite; opacity:.92 }
    .fairy.f3{ left:14%; bottom:18%; animation: floatY 6.8s alternate infinite, driftX 20s linear infinite; opacity:.9 }
    .fairy.f4{ right:12%; top:14%; animation: floatY 7.6s alternate infinite, driftX 24s linear infinite; opacity:.9 }
    @keyframes floatY{ from{ transform: translateY(-6px) } to{ transform: translateY(8px) } }
    @keyframes driftX{ 0%{ transform: translateX(0) } 50%{ transform: translateX(8px) } 100%{ transform: translateX(0) } }

    /* Butterflies */
    .butterfly{
      width:36px; height:36px; opacity:.88;
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'><path d='M20 18c6-10 16-8 16-2s-8 6-16 2z' fill='%238a6d3f' fill-opacity='.8'/><path d='M20 22c-6 10-16 8-16 2s8-6 16-2z' fill='%237f9558' fill-opacity='.8'/><rect x='19' y='16' width='2' height='8' fill='%2365513f'/></svg>");
      animation: flutter 1.6s ease-in-out infinite;
    }
    .butterfly.b1{ left:16%; bottom:14%; animation-duration:1.8s }
    .butterfly.b2{ right:14%; top:20%; animation-duration:1.5s }
    @keyframes flutter{ 0%,100%{ transform: translateY(0) rotate(-3deg)} 50%{ transform: translateY(-6px) rotate(3deg)} }

    /* Leaves */
    .leaf{
      width:28px; height:28px; opacity:.65;
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='34' height='34' viewBox='0 0 34 34'><path d='M6 22c6-10 16-8 22-16-2 10-6 18-18 18-2 0-4-1-4-2z' fill='%2390a46b' /><path d='M10 24c6-4 10-10 14-16' stroke='%23644f3d' stroke-width='1.2' fill='none' /></svg>");
      animation: sway 5.5s ease-in-out infinite;
    }
    .leaf.l1{ left:6%; top:70%; }
    .leaf.l2{ right:8%; top:8%; animation-duration:6.8s }
    .leaf.l3{ left:10%; top:12%; animation-duration:5.8s }
    .leaf.l4{ right:12%; bottom:10%; animation-duration:6.2s }
    @keyframes sway{ 0%{ transform: rotate(-4deg) translateY(0) } 50%{ transform: rotate(4deg) translateY(-4px) } 100%{ transform: rotate(-4deg) translateY(0) } }

    /* Plants (vines/branches) */
    .plant{ position:absolute; width:120px; height:120px; opacity:.5; background-repeat:no-repeat; background-size:contain; filter: drop-shadow(0 8px 12px rgba(0,0,0,.12)); animation: plantSway 10s ease-in-out infinite }
    .plant.p1{ left:2%; bottom:6%; width:160px; height:160px; background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'><path d='M20 140c30-40 50-60 90-100' stroke='%237d8f5a' stroke-width='3' fill='none' stroke-linecap='round'/><path d='M56 98c8-2 12 2 14 8-8 2-12-2-14-8zM92 64c8-2 12 2 14 8-8 2-12-2-14-8z' fill='%2390a46b' /></svg>") }
    .plant.p2{ right:3%; top:5%; width:140px; height:140px; background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'><path d='M120 20c-28 32-56 64-90 100' stroke='%237d8f5a' stroke-width='3' fill='none' stroke-linecap='round'/><path d='M88 48c8-2 12 2 14 8-8 2-12-2-14-8zM54 82c8-2 12 2 14 8-8 2-12-2-14-8z' fill='%2390a46b' /></svg>") }
    @keyframes plantSway{ 0%{ transform: rotate(-1deg)} 50%{ transform: rotate(1deg)} 100%{ transform: rotate(-1deg)} }

    /* Top chips */
    .top-left{
      position:fixed; left:16px; top:16px; display:flex; gap:8px; z-index:5;
    }
    .chip{
      appearance:none; border:1px solid var(--beige); background:rgba(255,255,255,.85);
      backdrop-filter:saturate(120%) blur(6px);
      color:var(--ink);
      padding:10px 14px; border-radius:999px; font-size:14px; cursor:pointer;
      box-shadow:0 6px 18px rgba(0,0,0,.06);
      transition:transform .12s ease, box-shadow .2s ease, background .2s ease;
    }
    .chip:hover{transform:translateY(-1px); box-shadow:0 10px 22px rgba(0,0,0,.08)}
    .chip[aria-pressed="true"]{
      background:#fff; border-color:#e7ddd3;
      box-shadow:
        0 6px 18px rgba(0,0,0,.06),
        0 0 0 0 rgba(124,106,94,.0),
        0 0 0 0 rgba(124,106,94,.0);
      animation: chipGlow 2.2s ease-in-out infinite;
    }
    @keyframes chipGlow{
      0%,100%{ box-shadow:0 6px 18px rgba(0,0,0,.06), 0 0 0 0 rgba(124,106,94,.0), 0 0 0 0 rgba(124,106,94,.0); }
      50%    { box-shadow:0 8px 22px rgba(0,0,0,.08), 0 0 0 6px rgba(124,106,94,.12), 0 0 0 0 rgba(124,106,94,.0); }
    }
    .chip.flash{ animation: chipFlash .35s ease; }
    @keyframes chipFlash{
      0%  { transform:translateY(-1px); box-shadow:0 10px 22px rgba(0,0,0,.10), 0 0 0 0 rgba(59,130,246,.35); }
      100%{ transform:none;              box-shadow:0 6px 18px rgba(0,0,0,.06),  0 0 0 0 rgba(59,130,246,0); }
    }

    /* Stage/Card */
    .wrap{
      position:fixed; inset:0; display:grid; place-items:center; padding:28px; z-index:1;
    }
    .card{
      width:min(980px,92vw);
      min-height:540px;
      max-height:78vh;
      background:var(--card);
      border:1px solid rgba(239,230,221,.7);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:34px 34px 90px;
      overflow:hidden;
      position:relative;
      cursor:pointer;
      transition: box-shadow .25s ease, transform .25s ease, filter .28s ease, opacity .28s ease;
    }
    .card:hover{ box-shadow:0 22px 48px rgba(70,60,54,.24) }
    .card.is-blur{ filter: blur(10px) saturate(.96); opacity:.60; }

    /* remove ornate frame to avoid unclear lines */

    .slide{ opacity:0; transform:translateY(8px); transition:opacity .6s ease, transform .6s ease; }
    .slide.is-active{ opacity:1; transform:none; }

    .kicker{ font-size:13px; letter-spacing:.14em; text-transform:uppercase; color:var(--muted); margin-bottom:8px; }
    h1{ margin:2px 0 10px 0; line-height:1.22; font-size:32px; font-weight:700; text-wrap: balance; }
    .sub{ font-size:17px; color:#6a5c51; margin:0 0 14px 0; font-weight:600; letter-spacing:.01em; }
    .body{
      font-size:16.5px; line-height:1.88; color:#4e433b; margin:10px 0 20px 0; white-space:pre-line;
      max-width:66ch; text-wrap: pretty; -webkit-hyphens:auto; hyphens:auto; letter-spacing:.003em;
    }
    .body strong{ color:#3f352e; font-weight:700 }
    .body em{ color:#51463e; font-style:italic }
    @media (min-width: 880px){ .body{ font-size:17px; } }
    @media (min-width: 1200px){ .body{ font-size:18px; } }

    /* Slide icon */
    .icon{ display:inline-block; margin-right:8px; font-size:18px; vertical-align:baseline; opacity:.9 }

    /* Gallery (1‚Äì4) */
    .gallery{
      display:grid; gap:10px;
      grid-template-columns: repeat( auto-fit, minmax(220px,1fr) );
      margin-top:6px;
    }
    .gallery img{
      width:100%; height:180px; object-fit:cover; object-position:center; border-radius:14px;
      border:1px solid rgba(239,230,221,.6);
      transition:transform .24s ease, box-shadow .24s ease, filter .24s ease;
      background:#faf6f1;
      cursor:zoom-in;
    }
    .gallery img:hover{ transform:translateY(-2px) scale(1.02); box-shadow:0 10px 22px rgba(0,0,0,.08); filter:saturate(1.05) }
    @media (max-width:560px){ .gallery img{ height:150px; } }

    /* Footer / progress & buttons */
    .footer{
      position:absolute; left:0; right:0; bottom:0;
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 18px;
      background:linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,.9));
      border-top:1px solid var(--beige);
    }
    .progress{ display:flex; gap:8px; align-items:center; }
    .dot{
      width:8px; height:8px; border-radius:50%; background:var(--dot);
      transition:transform .2s ease, background .2s ease, box-shadow .2s ease;
    }
    .dot.is-active{
      background: var(--dot-active);
      transform: scale(1.2);
      box-shadow: 0 0 0 6px rgba(124,106,94,.12);
      animation: dotPulse 1.8s ease-in-out infinite;
    }
    @keyframes dotPulse{
      0%,100%{ box-shadow: 0 0 0 6px rgba(124,106,94,.12); }
      50%    { box-shadow: 0 0 0 10px rgba(124,106,94,.16); }
    }

    .prev,.next{
      appearance:none; border:none; border-radius:999px; padding:12px 18px;
      background:#fff; border:1px solid var(--beige);
      color:#4a3f37; font-weight:600; cursor:pointer;
      box-shadow:0 8px 20px rgba(0,0,0,.06);
      transition:transform .12s ease, box-shadow .2s ease, background .2s ease, opacity .2s ease;
    }
    .prev:hover,.next:hover{ transform:translateY(-1px); box-shadow:0 12px 24px rgba(0,0,0,.08) }
    .prev:active,.next:active{ transform:translateY(0) }
    .prev[disabled],.next[disabled]{ opacity:.5; pointer-events:none; }

    /* Gate */
    .gate{
      position:fixed; inset:0; z-index:6; display:grid; place-items:center;
      background:linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.88));
      backdrop-filter: blur(2px);
    }
    .gate-card{
      width:min(640px,92vw); background:#fff; border:1px solid var(--beige); border-radius:22px; box-shadow:var(--shadow);
      padding:28px; text-align:center;
    }
    .gate h2{margin:0 0 8px 0}
    .gate p{margin:0 0 18px 0; color:var(--muted)}
    .start{
      appearance:none; border:none; border-radius:12px; padding:14px 22px;
      background:#2f7df4; color:#fff; font-weight:700; font-size:16px; cursor:pointer;
      box-shadow:0 10px 24px rgba(47,125,244,.32);
      transition:transform .12s ease, box-shadow .2s ease, opacity .2s ease;
    }
    .start:hover{transform:translateY(-1px); box-shadow:0 14px 28px rgba(47,125,244,.36)}
    .hide{display:none !important}
    .sr-only{ position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

    /* Lightbox */
    .lightbox{
      position:fixed; inset:0; display:none; align-items:center; justify-content:center;
      background:rgba(0,0,0,.6); z-index:8; backdrop-filter: blur(2px);
    }
    .lightbox.open{ display:flex; }
    .lightbox img{
      max-width:92vw; max-height:88vh; border-radius:16px;
      box-shadow:0 20px 60px rgba(0,0,0,.35); background:#fff;
    }
  </style>
</head>
<body>
  <!-- –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ -->
  <div class="top-left">
    <button class="chip" id="bgmBtn" type="button" aria-pressed="true">Î∞∞Í≤ΩÏùåÏïÖ: ÏºúÏßê</button>
    <button class="chip" id="voiceBtn" type="button" aria-pressed="true">ÏùåÏÑ±: ÏºúÏßê</button>
  </div>

  <!-- —Å—Ç–∞—Ä—Ç -->
  <div class="gate" id="gate">
    <div class="gate-card">
      <div class="kicker">Korea Visual Diary</div>
      <h2>ÎÇòÏùò ÌïúÍµ≠ Ï∂îÏñµ ÏßÄÎèÑ</h2>
      <p>ÏãúÏûëÏùÑ ÎàÑÎ•¥Î©¥ Î∂ÄÎìúÎü¨Ïö¥ ÌîºÏïÑÎÖ∏ Î∞∞Í≤ΩÏùåÏïÖÍ≥º Ìï®Íªò Ïä¨ÎùºÏù¥ÎìúÍ∞Ä ÏßÑÌñâÎê©ÎãàÎã§.</p>
      <button class="start" id="startBtn" type="button">ÏãúÏûëÌïòÍ∏∞</button>
      <div style="margin-top:10px; font-size:13px; color:#7b6e63">Î∞∞Í≤ΩÏùåÏïÖ ÏùåÎüâ 0.25, ÌïúÍµ≠Ïñ¥ ÏùåÏÑ± ÏïàÎÇ¥</div>
    </div>
  </div>

  <!-- –∫–∞—Ä—Ç–æ—á–∫–∞-—Å–ª–∞–π–¥ -->
  <div class="wrap">
    <article class="card" id="card" role="group" aria-label="Ïä¨ÎùºÏù¥Îìú Ïπ¥Îìú">
      <div class="slide is-active" id="slide"></div>
      <footer class="footer">
        <div class="progress" id="progress" aria-label="ÏßÑÌñâ Ï†ê ÌëúÏãú"></div>
        <div style="display:flex; gap:8px;">
          <button class="prev" id="prevBtn" type="button" aria-label="Ïù¥Ï†Ñ Ïä¨ÎùºÏù¥Îìú">‚óÄ Ïù¥Ï†Ñ</button>
          <button class="next" id="nextBtn" type="button" aria-label="Îã§Ïùå Ïä¨ÎùºÏù¥Îìú">Îã§Ïùå ‚ñ∂</button>
        </div>
      </footer>
    </article>
  </div>

  <!-- Background decor: fairies, butterflies, leaves (subtle, non-interactive) -->
  <div id="bg-decor" aria-hidden="true">
    <span class="fairy f1"></span>
    <span class="fairy f2"></span>
    <span class="fairy f3"></span>
    <span class="fairy f4"></span>
    <span class="butterfly b1"></span>
    <span class="butterfly b2"></span>
    <span class="leaf l1"></span>
    <span class="leaf l2"></span>
    <span class="leaf l3"></span>
    <span class="leaf l4"></span>
    <span class="plant p1"></span>
    <span class="plant p2"></span>
  </div>

  <!-- Magic sparkles overlay -->
  <div id="fx" aria-hidden="true"></div>

  <!-- –º—É–∑—ã–∫–∞ BTS –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª -->
  <audio id="bgm" src="assets music/bts_instrumental.mp3" preload="auto" loop playsinline></audio>
  <span class="sr-only" aria-live="polite" id="live"></span>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <img id="lightboxImg" alt="ÌôïÎåÄ Ïù¥ÎØ∏ÏßÄ">
  </div>

  <script>
    /* -----------------------------
       –°–õ–ê–ô–î–´ (—Å —Ç–µ–∫—Å—Ç–∞–º–∏ –∏ —Ñ–æ—Ç–æ)
       ----------------------------- */
    const slides = [
      {
        kicker:"INTRO",
        title:"Korea Visual Diary ÏÜåÍ∞ú",
        subtitle:"Îî∞ÎúªÌïú ÏãúÍ∞Å ÏùºÍ∏∞Î°ú ÎßåÎÇòÎäî ÎÇòÏùò ÌïúÍµ≠ Ï∂îÏñµ ÏßÄÎèÑ",
        text:
"Ïù¥ ÌéòÏù¥ÏßÄÎäî Ï†úÍ∞Ä ÌïúÍµ≠ÏóêÏÑú Î≥¥ÎÇ∏ ÏãúÍ∞ÑÏùÑ ÏßÄÎèÑ Í∏∞Î∞òÏúºÎ°ú Ï†ïÎ¶¨Ìïú Í∞úÏù∏ ÏãúÍ∞Å ÏùºÍ∏∞ÏûÖÎãàÎã§.\nÏπ¥Ïπ¥Ïò§ÎßµÏóê Ï†ÄÏû•Ìï¥ Ïò® ‚ÄòÌïÄ‚ÄôÎì§ÏùÑ Ï§ëÏã¨ÏúºÎ°ú, Ïû•ÏÜå¬∑ÏãúÍ∞Ñ¬∑Í∞êÏ†ïÏùÑ Ìïú ÌôîÎ©¥ÏóêÏÑú Ïù¥ÏïºÍ∏∞Ï≤òÎüº Ï†ÑÎã¨Ìï©ÎãàÎã§.\nÏßÑÌñâ ÏàúÏÑú: Í∞úÏöî ‚Üí Î∞∞Í≤Ω/Î¨∏Ï†úÏ†ïÏùò ‚Üí Ïπ¥Ïπ¥Ïò§Îßµ ÏòÅÍ∞ê ‚Üí Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞ ‚Üí ÎîîÏûêÏù∏/Ïù∏ÌÑ∞ÎûôÏÖò ‚Üí ÏùºÏ†ï.",
        images:["assets images/ex1.jpg","assets images/ex2.jpg"]  /* –ø—Ä–∏–º–µ—Ä: 2 —Ñ–æ—Ç–æ */
      },
      {
        kicker:"PROBLEM",
        title:"Ïôú Ïù¥ ÌîÑÎ°úÏ†ùÌä∏Ïù∏Í∞Ä?",
        subtitle:"Î¨∏Ï†úÏ†ïÏùòÏôÄ Î™©Ìëú",
        text:
"3ÎÖÑÍ∞Ñ ÌïúÍµ≠ÏóêÏÑú ÏåìÏù∏ Í∏∞Î°ùÏù¥ ÏÇ¨ÏßÑÏ≤©¬∑Î©îÎ™®¬∑ÏßÄÎèÑÏóê Ìù©Ïñ¥Ï†∏ ÌïúÎààÏóê Î≥¥Í∏∞ Ïñ¥Î†§Ïõ†ÏäµÎãàÎã§.\nÍ∑∏ÎûòÏÑú ‚ÄòÏßÄÎèÑ‚ÄôÎ•º Ï§ëÏã¨ÏúºÎ°ú ÏÇ¨ÏßÑ¬∑ÏóêÌîºÏÜåÎìú¬∑ÏùåÏãùÏ∂îÏ≤ú Í∞ôÏùÄ Îß•ÎùΩÏùÑ Ìïú Í≥≥Ïóê Î¨∂Îäî Í≤ÉÏù¥ Î™©ÌëúÏûÖÎãàÎã§.\nÌïµÏã¨: (1) Ïû•ÏÜå-Í∞êÏ†ï Ïó∞Í≤∞ (2) Í∞ÄÎ≤ºÏö¥ Ïù∏ÌÑ∞ÎûôÏÖò (3) Îç∞Ïù¥ÌÑ∞ ÌôïÏû• Í∞ÄÎä•ÏÑ±."
      },
      {
        kicker:"KAKAO MAP",
        title:"ÏòÅÍ∞ê: Kakao Map",
        subtitle:"ÏπúÏàôÌïú Ïù∏ÌÑ∞ÎûôÏÖòÏùò Í∞êÏÑ±Ï†Å Ïû¨Ìï¥ÏÑù",
        text:
"Ïπ¥Ïπ¥Ïò§ÎßµÏùò ÌïÄ¬∑ÌôïÎåÄ/Ï∂ïÏÜå¬∑Í≥µÍ∞Ñ Îß•ÎùΩÏùÑ Ï∞∏Í≥†ÌïòÎêò, Ï†ïÎ≥¥ Î∞ÄÎèÑÎ≥¥Îã§ ‚ÄòÍ∞êÏ†ïÏùò Ìò∏Ìù°‚ÄôÏùÑ Ïö∞ÏÑ†Ìï©ÎãàÎã§.\nÌôïÎåÄÌïòÎ©¥ ÎîîÌÖåÏùº, Ï∂ïÏÜåÌïòÎ©¥ Ïó¨Ï†ïÏùò ÌùêÎ¶ÑÏù¥ Î≥¥Ïù¥ÎèÑÎ°ù ÏÑ§Í≥ÑÌï©ÎãàÎã§.",
        images:["assets images/map1.jpg","assets images/map2.jpg","assets images/map3.jpg","assets images/map4.jpg"]  /* 4 —Ñ–æ—Ç–æ */
      },
      {
        kicker:"DATA",
        title:"Îç∞Ïù¥ÌÑ∞ ÏàòÏßëÍ≥º Íµ¨Ï°∞",
        subtitle:"places.json Ïä§ÌÇ§Îßà",
        text:
"ÏàòÏßë: Ïπ¥Ïπ¥Ïò§Îßµ Ï†ÄÏû• Ïû•ÏÜåÎ™Ö/Ï£ºÏÜå Ï†ïÎ¶¨ ‚Üí Ï¢åÌëú(lat,lng) ÌôïÎ≥¥ ‚Üí ÏÇ¨ÏßÑ Îß§Ïπ≠ ‚Üí Í∞ÑÎã® Ïä§ÌÜ†Î¶¨/ÏùåÏãù ÌåÅ ÏûëÏÑ±.\nÏä§ÌÇ§Îßà ÏòàÏãú:\n[\n  { id, title, address, coords:[lat,lng], date, mood:'ÏÑ§Î†ò/ÌèâÏò®/Í∑∏Î¶¨ÏõÄ', story, foodTips:[...], media:[...] }\n]\nÏûëÍ≥† Îã®ÏàúÌïòÍ≤å ÏãúÏûëÌï¥ Ï†êÏ∞® ÌïÑÎìúÎ•º ÌôïÏû•Ìï©ÎãàÎã§."
      },
      {
        kicker:"UI / STYLE",
        title:"ÎîîÏûêÏù∏ ÏõêÏπô",
        subtitle:"Î∂ÄÎìúÎü¨Ïö¥ Ïπ¥Îìú, Î™ÖÌôïÌïú ÏúÑÍ≥Ñ, Ïó¨Î∞±",
        text:
"ÌÜ§: ÌååÏä§ÌÖî Î≤†Ïù¥ÏßÄ + ÌöåÌôîÏ†Å ÏßàÍ∞ê(Î∞∞Í≤Ω ‚Äòwall.jpg‚Äô). Ïπ¥Îìú UIÎäî ÎùºÏö¥Îìú/ÏÜåÌîÑÌä∏ ÏâêÎèÑÏö∞.\nÏù¥ÎØ∏ÏßÄÎäî 1‚Äì4Ïû• Í∑∏Î¶¨Îìú, Ìò∏Î≤Ñ/ÌÅ¥Î¶≠ Ïãú Í∞ïÏ°∞. ÌÖçÏä§Ìä∏ Í∞ÄÎèÖÏÑ± Ïö∞ÏÑ†."
      },
      {
        kicker:"INTERACTION",
        title:"ÏÉÅÌò∏ÏûëÏö© ÏÑ§Í≥Ñ",
        subtitle:"ÌÅ¥Î¶≠ ‚Üí Ïπ¥Îìú Ï†ÑÌôò, Ïù¥ÎØ∏ÏßÄ ÎùºÏù¥Ìä∏Î∞ïÏä§, ÏùåÏÑ±ÏïàÎÇ¥¬∑BGM",
        text:
"Ïπ¥Îìú ÌÅ¥Î¶≠ ÎòêÎäî ‚ñ∂/‚óÄ Î≤ÑÌäºÏúºÎ°ú Ïù¥Îèô. ÏùåÏÑ± ÏïàÎÇ¥Îäî Ïä¨ÎùºÏù¥Îìú ÎÇ¥Ïö©ÏùÑ ÎÅùÍπåÏßÄ ÏùΩÍ≥†, Í∑∏ Îã§ÏùåÏóê ÎåÄÍ∏∞Ìï©ÎãàÎã§.\nÏÉÅÎã® Ïπ©ÏúºÎ°ú BGM/ÏùåÏÑ± on/off. Ïù¥ÎØ∏ÏßÄÎäî ÌÅ¥Î¶≠ÌïòÎ©¥ ÌÅ¨Í≤å Î≥¥Í∏∞(ESCÎ°ú Îã´Í∏∞)."
      },
      {
        kicker:"STACK",
        title:"Í∏∞Ïà† Ïä§ÌÉùÍ≥º Î∞∞Ìè¨",
        subtitle:"Vanilla + GitHub Pages",
        text:
"HTML/CSS/JS(ÌîÑÎ†àÏûÑÏõåÌÅ¨ X), Ïù¥ÎØ∏ÏßÄ ÏßÄÏó∞ Î°úÎî©, Í∞ÄÎ≤ºÏö¥ Ïï†ÎãàÎ©îÏù¥ÏÖò.\nGitHub PagesÎ°ú Ï†ïÏ†Å Î∞∞Ìè¨(ÎßÅÌÅ¨ Í≥µÏú†) ‚Üí Ïù¥ÌõÑ Leaflet.jsÎ°ú Ïã§Ï†ú ÏßÄÎèÑ ÌôïÏû• ÏòàÏ†ï."
      },
      {
        kicker:"TIMELINE",
        title:"3Ï£º Ïã§Ìñâ Í≥ÑÌöç",
        subtitle:"ÏàòÏßë ‚Äî Îß§Ïπ≠ ‚Äî Ï†úÏûë/ÌÖåÏä§Ìä∏",
        text:
"1Ï£ºÏ∞®: Ï¢åÌëú/Ïû•ÏÜå Ï†ïÎ¶¨, ÏÇ¨ÏßÑ Îß§Ïπ≠, Ïä§ÌÜ†Î¶¨ Ï¥àÏïà\n2Ï£ºÏ∞®: UI/Ïù∏ÌÑ∞ÎûôÏÖò Íµ¨ÌòÑ(Ïä¨ÎùºÏù¥Îìú/ÎùºÏù¥Ìä∏Î∞ïÏä§/ÏùåÏÑ±/BGM)\n3Ï£ºÏ∞®: Ï†ëÍ∑ºÏÑ±¬∑ÏÑ±Îä• Îã§Îì¨Í∏∞, Î∞úÌëúÏö© ÏΩòÌÖêÏ∏† ÌôïÏ†ï"
      },
      {
        kicker:"LEARNING",
        title:"ÌïôÏäµÍ≥º ÎäêÎÇÄ Ï†ê",
        subtitle:"Îç∞Ïù¥ÌÑ∞Îäî Í∞êÏ†ïÍ≥º Ïó∞Í≤∞Îê† Îïå ÏÇ¥ÏïÑÎÇúÎã§",
        text:
"ÏßÄÎèÑÎäî Í∏∏Ï∞æÍ∏∞ ÎèÑÍµ¨Î•º ÎÑòÏñ¥ ‚ÄòÍ∏∞ÏñµÏùò Î¨¥ÎåÄ‚ÄôÍ∞Ä Îê† Ïàò ÏûàÏùåÏùÑ Ï≤¥Í∞êÌñàÏäµÎãàÎã§.\nÏ†ïÏ†úÎêú Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞ ÏúÑÏóê Í∞êÏ†ïÏùÑ ÏñπÏúºÎ©¥ Í∞úÏù∏ Í∏∞Î°ùÎèÑ Îî∞ÎúªÌïú ÏãúÍ∞ÅÌôîÍ∞Ä Îê©ÎãàÎã§."
      },
      {
        kicker:"THANKS",
        title:"Í∞êÏÇ¨Ìï©ÎãàÎã§",
        subtitle:"Korea Visual Diary",
        text:
"ÏãúÏ≤≠Ìï¥ Ï£ºÏÖîÏÑú Í∞êÏÇ¨Ìï©ÎãàÎã§. Ïù¥ÌõÑ Î≤ÑÏ†ÑÏóêÏÑúÎäî Ïã§Ï†ú ÏßÄÎèÑÎ•º Î∂ôÏó¨ Îçî ÏÉùÎèôÍ∞ê ÏûàÍ≤å ÌôïÏû•ÌïòÍ≤†ÏäµÎãàÎã§."
      }
    ];

    /* -----------------------------
       STATE / ELEMENTS
       ----------------------------- */
    let idx = 0, voiceOn = true, bgmOn = true, koVoice = null;
    const AUTO_ADVANCE = false;  // –≥–æ–≤–æ—Ä–∏–º –¥–æ –∫–æ–Ω—Ü–∞ –∏ –∂–¥—ë–º –∫–ª–∏–∫–∞

    const slideEl   = document.getElementById('slide');
    const progressEl= document.getElementById('progress');
    const nextBtn   = document.getElementById('nextBtn');
    const prevBtn   = document.getElementById('prevBtn');
    const card      = document.getElementById('card');
    const bgmBtn    = document.getElementById('bgmBtn');
    const voiceBtn  = document.getElementById('voiceBtn');
    const bgm       = document.getElementById('bgm');
    const startBtn  = document.getElementById('startBtn');
    const gate      = document.getElementById('gate');
    const live      = document.getElementById('live');

    // Lightbox
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightboxImg');
    function openLightbox(src){
      lightboxImg.src = src;
      lightbox.classList.add('open');
      lightbox.setAttribute('aria-hidden','false');
    }
    function closeLightbox(){
      lightbox.classList.remove('open');
      lightbox.setAttribute('aria-hidden','true');
      lightboxImg.removeAttribute('src');
    }
    lightbox.addEventListener('click', (e)=>{ if(e.target === lightbox) closeLightbox(); });
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && lightbox.classList.contains('open')) closeLightbox(); });

    function buildDots(){
      progressEl.innerHTML = '';
      slides.forEach((_,i)=>{
        const d = document.createElement('div');
        d.className = 'dot' + (i===idx?' is-active':'');
        d.setAttribute('role','button');
        d.setAttribute('aria-label',(i+1)+'Î≤àÏß∏ Ïä¨ÎùºÏù¥ÎìúÎ°ú Ïù¥Îèô');
        d.tabIndex = 0;
        d.addEventListener('click', (e)=>{ e.stopPropagation(); go(i); });
        d.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); go(i);} });
        progressEl.appendChild(d);
      });
    }

    function setNavEnabled(enabled){
      nextBtn.disabled = !enabled;
      prevBtn.disabled = !enabled;
    }

    // –ù–∞–¥—ë–∂–Ω—ã–π –∑–∞–ø—É—Å–∫ –º—É–∑—ã–∫–∏
    async function ensureBgmPlays(){
      try { bgm.currentTime = Math.max(0.01, bgm.currentTime||0); } catch {}
      const p = bgm.play();
      if (p && typeof p.then === 'function') await p;
    }
    function playBgm(){
      if(!bgmOn) return;
      try{
        bgm.muted = false;
        if(isNaN(bgm.volume)) bgm.volume = 0.25;
        if(bgm.readyState === 0){ bgm.load(); }
        ensureBgmPlays().catch(()=>{
          const once = ()=>{ ensureBgmPlays().catch(()=>{}); };
          document.addEventListener('pointerdown', once, { once:true });
          document.addEventListener('keydown', once, { once:true });
          document.addEventListener('touchstart', once, { once:true });
        });
      }catch{}
    }

    function render(){
      const s = slides[idx];
      card.classList.add('is-blur');

      setTimeout(()=>{
        slideEl.classList.remove('is-active');
        const icon = getSlideIcon(s.kicker||'');
        slideEl.innerHTML = `
          <div class="kicker">${icon ? `<span class="icon">${icon}</span>`:''}${escapeHTML(s.kicker||'')}</div>
          <h1>${escapeHTML(s.title||'')}</h1>
          ${s.subtitle ? `<div class="sub">${escapeHTML(s.subtitle)}</div>`:''}
          ${s.text ? `<div class="body">${escapeHTML(s.text)}</div>`:''}
          ${Array.isArray(s.images) && s.images.length ? `
            <div class="gallery">
              ${s.images.map(src=>`<img src="${src}" alt="Ïä¨ÎùºÏù¥Îìú Ïù¥ÎØ∏ÏßÄ" loading="lazy">`).join('')}
            </div>
          `:''}
        `;
        slideEl.classList.add('is-active');

        // –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        slideEl.querySelectorAll('.gallery img').forEach(img=>{
          img.addEventListener('click', (ev)=>{
            ev.stopPropagation();
            openLightbox(img.src);
          });
        });

        [...progressEl.children].forEach((el,i)=> el.classList.toggle('is-active', i===idx));
        setTimeout(()=> card.classList.remove('is-blur'), 20);

        // –ø–æ–∫–∞ –≥–æ–≤–æ—Ä–∏—Ç ‚Äî –±–ª–æ–∫–∏—Ä—É–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é
        if (voiceOn && (s.title || s.subtitle || s.text)){
          setNavEnabled(false);
        } else {
          setNavEnabled(true);
        }

        // –ø—Ä–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å–ª–∞–π–¥
        speakSlide(s);

        live.textContent = (s.title||'') + ' - ' + (s.subtitle||'');
      }, 220);
    }

    function getSlideIcon(kicker){
      const k = String(kicker).toUpperCase();
      if(k.includes('INTRO')) return '‚ú®';
      if(k.includes('PROBLEM')) return '‚ùì';
      if(k.includes('KAKAO')) return 'üó∫Ô∏è';
      if(k.includes('DATA')) return 'üß©';
      if(k.includes('UI')) return 'üé®';
      if(k.includes('INTERACTION')) return 'üñ±Ô∏è';
      if(k.includes('STACK')) return 'üß∞';
      if(k.includes('TIMELINE')) return 'üóìÔ∏è';
      if(k.includes('LEARNING')) return 'üìö';
      if(k.includes('THANKS')) return 'üôè';
      return '';
    }

    function next(){ if(lightbox.classList.contains('open')) return; idx = (idx + 1) % slides.length; render(); }
    function go(i){ if(lightbox.classList.contains('open')) return; idx = (i + slides.length) % slides.length; render(); }
    function prev(){ if(lightbox.classList.contains('open')) return; idx = (idx - 1 + slides.length) % slides.length; render(); }

    // Web Speech API
    function pickKoreanVoice(){
      const list = window.speechSynthesis ? speechSynthesis.getVoices() : [];
      const koList = list.filter(v => /ko/i.test(v.lang||''));
      return koList[0] || list.find(v=>/Korean|ko/i.test(v.name||'')) || null;
    }
    function speak(text){
      if(!('speechSynthesis' in window)) { setNavEnabled(true); return; }

      speechSynthesis.cancel();
      if(!voiceOn || !text){
        setNavEnabled(true);
        return;
      }
      const u = new SpeechSynthesisUtterance(text);
      u.lang = 'ko-KR';
      if(koVoice) u.voice = koVoice;
      u.rate = 1.0; u.pitch = 1.0; u.volume = 1.0;

      u.onstart = ()=>{
        setNavEnabled(false);
        // –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –Ω–∞ —á–∏–ø–µ ¬´ÏùåÏÑ±¬ª
        voiceBtn.classList.add('flash');
        setTimeout(()=> voiceBtn.classList.remove('flash'), 220);
      };
      u.onend   = ()=> setNavEnabled(true);
      u.onerror = ()=> setNavEnabled(true);

      speechSynthesis.speak(u);
    }
    function speakSlide(s){
      const narration = [s.title, s.subtitle, s.text].filter(Boolean).join('. ');
      speak(narration);
    }

    function escapeHTML(str){
      return String(str).replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m]));
    }

    // Controls
    nextBtn.addEventListener('click', e=>{ e.stopPropagation(); next(); });
    prevBtn.addEventListener('click', e=>{ e.stopPropagation(); prev(); });
    card.addEventListener('click', ()=>{ if(!nextBtn.disabled) next(); });
    document.addEventListener('keydown', e=>{
      if(e.key === 'ArrowRight' || e.key === ' ') { if(!nextBtn.disabled) next(); }
      if(e.key === 'ArrowLeft') { if(!prevBtn.disabled) prev(); }
    });

    // Sparkles FX: follow cursor and burst on click
    (function sparkles(){
      const fx = document.getElementById('fx');
      if(!fx) return;
      let last = 0;
      function spawn(x,y,burst=false){
        const n = burst ? 10 : 1;
        for(let i=0;i<n;i++){
          const el = document.createElement('span');
          el.className = 'spark';
          const ang = Math.random()*Math.PI*2;
          const speed = burst ? (0.3 + Math.random()*0.9) : (0.15 + Math.random()*0.35);
          el.style.left = (x-3) + 'px';
          el.style.top  = (y-3) + 'px';
          el.style.setProperty('--dx', Math.cos(ang)*speed + 'px');
          el.style.setProperty('--dy', Math.sin(ang)*speed + 'px');
          fx.appendChild(el);
          el.addEventListener('animationend', ()=> el.remove());
          setTimeout(()=> el.remove(), 1200);
        }
      }
      document.addEventListener('pointermove', (e)=>{
        const now = performance.now();
        if(now - last < 55) return;
        last = now;
        spawn(e.clientX, e.clientY, false);
      });
      document.addEventListener('click', (e)=>{ spawn(e.clientX, e.clientY, true); });
    })();

    // Fairies avoid cursor: when close, fly away; when far, return
    (function fairiesAvoid(){
      const fairies = Array.from(document.querySelectorAll('.fairy'));
      if(!fairies.length) return;

      const THRESHOLD = 140; // px
      const MAX_PUSH = 110;  // px
      let lastMove = 0;

      function onMove(e){
        const now = performance.now();
        if(now - lastMove < 24) return; // throttle ~40fps
        lastMove = now;
        const mx = e.clientX, my = e.clientY;
        fairies.forEach(f => {
          const r = f.getBoundingClientRect();
          const cx = r.left + r.width/2;
          const cy = r.top + r.height/2;
          const dx = cx - mx;
          const dy = cy - my;
          const d = Math.hypot(dx, dy);
          if(d < THRESHOLD){
            const t = (THRESHOLD - d) / THRESHOLD; // 0..1
            const mag = Math.min(MAX_PUSH, 30 + t * MAX_PUSH);
            const nx = dx / (d || 1);
            const ny = dy / (d || 1);
            f.classList.add('scared');
            f.style.setProperty('--flyX', (nx * mag) + 'px');
            f.style.setProperty('--flyY', (ny * mag) + 'px');
          } else {
            f.classList.remove('scared');
            f.style.removeProperty('--flyX');
            f.style.removeProperty('--flyY');
          }
        });
      }

      function calm(){
        fairies.forEach(f => {
          f.classList.remove('scared');
          f.style.removeProperty('--flyX');
          f.style.removeProperty('--flyY');
        });
      }

      document.addEventListener('pointermove', onMove);
      document.addEventListener('mouseleave', calm);
      window.addEventListener('blur', calm);
    })();

    // Chips: BGM
    bgmBtn.addEventListener('click', ()=>{
      bgmOn = !bgmOn;
      bgmBtn.classList.add('flash'); setTimeout(()=> bgmBtn.classList.remove('flash'), 220);
      bgmBtn.setAttribute('aria-pressed', String(bgmOn));
      bgmBtn.textContent = bgmOn ? 'Î∞∞Í≤ΩÏùåÏïÖ: ÏºúÏßê' : 'Î∞∞Í≤ΩÏùåÏïÖ: Í∫ºÏßê';
      if(bgmOn){ playBgm(); } else { try{ bgm.pause(); }catch{} }
    });

    // Chips: Voice
    voiceBtn.addEventListener('click', ()=>{
      voiceOn = !voiceOn;
      voiceBtn.classList.add('flash'); setTimeout(()=> voiceBtn.classList.remove('flash'), 220);
      if(voiceOn && !koVoice){ voiceOn = false; } // –Ω–µ—Ç ko-–≥–æ–ª–æ—Å–∞ ‚Äî –æ—Å—Ç–∞–≤–∏–º off
      voiceBtn.setAttribute('aria-pressed', String(voiceOn));
      voiceBtn.textContent = voiceOn ? 'ÏùåÏÑ±: ÏºúÏßê' : 'ÏùåÏÑ±: Í∫ºÏßê';
      if(!voiceOn && 'speechSynthesis' in window){ speechSynthesis.cancel(); setNavEnabled(true); }
      if(voiceOn) speakSlide(slides[idx]);
    });

    // Start
    startBtn.addEventListener('click', async ()=>{
      gate.classList.add('hide');
      try{
        bgm.muted = false; 
        bgm.volume = 0.25;   // –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ 0.35
        bgm.currentTime = 0;
        if(bgmOn) await ensureBgmPlays();
      }catch{}
      if('speechSynthesis' in window){
        koVoice = pickKoreanVoice();
        window.speechSynthesis.onvoiceschanged = ()=>{ koVoice = pickKoreanVoice(); };
      }
      buildDots();
      render();
    });

    // –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∞—É–¥–∏–æ (–∫–æ–Ω—Å–æ–ª—å)
    bgm.addEventListener('error', ()=> console.warn('BGM error: –ø—Ä–æ–≤–µ—Ä—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É "assets music/bts_instrumental.mp3"'));
    bgm.addEventListener('canplaythrough', ()=> console.log('BGM –≥–æ—Ç–æ–≤ –∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é'));

    // Preload first view (–±–µ–∑ –æ–∑–≤—É—á–∫–∏)
    (function init(){
      buildDots();
      const s = slides[0];
      const icon = getSlideIcon(s.kicker||'');
      slideEl.innerHTML = `
        <div class="kicker">${icon ? `<span class=\"icon\">${icon}</span>`:''}${escapeHTML(s.kicker||'')}</div>
        <h1>${escapeHTML(s.title||'')}</h1>
        ${s.subtitle ? `<div class="sub">${escapeHTML(s.subtitle)}</div>`:''}
        <div class="body" style="opacity:.85">ÏãúÏûëÌïòÍ∏∞ Î≤ÑÌäºÏùÑ ÎàåÎü¨ Î∞∞Í≤ΩÏùåÏïÖÍ≥º ÏùåÏÑ± ÏïàÎÇ¥Î•º ÏºúÏÑ∏Ïöî.</div>
        ${Array.isArray(s.images) && s.images.length ? `
          <div class="gallery">
            ${s.images.map(src=>`<img src="${src}" alt="Ïä¨ÎùºÏù¥Îìú Ïù¥ÎØ∏ÏßÄ" loading="lazy">`).join('')}
          </div>
        `:''}
      `;
      slideEl.classList.add('is-active');
    })();
  </script>
</body>
</html>
